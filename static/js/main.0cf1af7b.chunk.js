(this["webpackJsonpplatzi-intro-react-base"]=this["webpackJsonpplatzi-intro-react-base"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(33)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(9),r=a.n(c),l=(a(20),a(4)),u=a(2);var i=o.a.createContext();function s(e){var t=e.children,a=function(e,t){var a=o.a.useState(t),n=Object(u.a)(a,2),c=n[0],r=n[1],l=o.a.useState(!0),i=Object(u.a)(l,2),s=i[0],m=i[1],d=o.a.useState(!1),f=Object(u.a)(d,2),E=f[0],p=f[1];return o.a.useEffect((function(){setTimeout((function(){try{var a,n=localStorage.getItem(e);n?(a=JSON.parse(n),r(a)):(localStorage.setItem(e,JSON.stringify(t)),a=t),m(!1)}catch(E){m(!1),p(!0),console.log(E)}}),2e3)}),[]),{item:c,saveItem:function(t){localStorage.setItem(e,JSON.stringify(t)),r(t)},loading:s,error:E}}("TODOS_V0.1",[]),n=a.item,c=a.saveItem,r=a.loading,s=a.error,m=o.a.useState(""),d=Object(u.a)(m,2),f=d[0],E=d[1],p=n.filter((function(e){return e.completed})).length,v=n.length,h=n.filter((function(e){return e.title.toLowerCase().includes(f.toLowerCase())})),O=o.a.useState(!1),b=Object(u.a)(O,2),g=b[0],T=b[1];return o.a.createElement(i.Provider,{value:{totalTodos:v,completedTodos:p,searchValue:f,setSearchValue:E,searchedTodos:h,onMarkEvent:function(e){var t=Object(l.a)(n),a=t.findIndex((function(t){return t.id===e}));t[a].completed=!t[a].completed,c(t)},onDeleteEvent:function(e){var t=Object(l.a)(n),a=t.findIndex((function(t){return t.id===e}));t.splice(a,1),c(t)},loading:r,error:s,openModal:g,setOpenModal:T,addTodo:function(e){var t=Object(l.a)(n),a=0===t.length?0:Math.max.apply(Math,Object(l.a)(t.map((function(e){return e.id}))));e.id=a+1,console.log(e),t.push(e),c(t),T(!1)}}},t)}a(21);function m(){var e=o.a.useContext(i),t=e.totalTodos,a=e.completedTodos;return e.loading?o.a.createElement("h2",{className:"title"},"loading TODO's..."):o.a.createElement("h2",{className:"title"},"You have completed ",o.a.createElement("span",null,a)," of ",o.a.createElement("span",null,t)," TODO's")}a(22);function d(){var e=o.a.useContext(i),t=e.searchValue,a=e.setSearchValue;return o.a.createElement("input",{className:"TodoSearch",placeholder:"Learn Backend",value:t,onChange:function(e){a(e.target.value)}})}a(23);function f(e){return o.a.createElement("ul",{className:"TodoList"},e.children)}var E=a(7),p=a(10);a(24);function v(e){var t=e.text,a=e.completed,n=e.onMark,c=e.onDelete;return o.a.createElement("li",{className:"TodoItem"},o.a.createElement("span",{className:"Icon Icon-check ".concat(a&&"Icon-check--active"),onClick:n},a?o.a.createElement(E.a,null):o.a.createElement(E.b,null)),o.a.createElement("p",{className:"TodoItem-p ".concat(a&&"TodoItem-p--complete")},t),o.a.createElement("span",{className:"Icon Icon-delete",onClick:c},o.a.createElement(p.a,null)))}a(25);function h(){var e=o.a.useContext(i),t=e.setOpenModal,a=e.openModal,c=Object(n.useState)(!1),r=Object(u.a)(c,2),l=r[0],s=r[1];Object(n.useEffect)((function(){s(a)}),[a]);return o.a.createElement("div",{className:"button-container"},o.a.createElement("div",{className:"shadow"}),o.a.createElement("button",{className:"create-button ".concat(l?"rotate":""),onClick:function(){t((function(e){return!e}))}},o.a.createElement("span",{className:"letter"},"+")))}var O=a(11);a(26),a(27);function b(){return o.a.createElement(O.a,{className:"TodoItem-loading",count:4})}a(28);function g(e){var t=e.searchValue;return o.a.createElement("p",{className:"TodoEmpty"},"There's not TODO's with the keyword ".concat(t))}a(29);function T(e){var t=e.error;return o.a.createElement("p",{className:"TodoError"},"Error: ",t)}var N=a(6),I=a.n(N);a(30);function S(e){var t=e.children;return I.a.createPortal(o.a.createElement("div",{className:"Modal"},o.a.createElement("div",{className:"ModalBackground"},t)),document.getElementById("modal"))}a(31);function k(){var e=o.a.useContext(i).addTodo,t=o.a.useState(""),a=Object(u.a)(t,2),n=a[0],c=a[1];return o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e({title:n,completed:!1})}},o.a.createElement("label",null,"Add TODO"),o.a.createElement("textarea",{onChange:function(e){c(e.target.value)},value:n,placeholder:"Add a new TODO"}),o.a.createElement("div",{className:"Todo-button-wrapper"},o.a.createElement("button",{className:"submit",type:"submit"},"Add")))}function j(){var e=o.a.useContext(i),t=e.loading,a=e.error,n=e.searchedTodos,c=e.onMarkEvent,r=e.onDeleteEvent,l=e.searchValue,u=e.openModal;return o.a.createElement(o.a.Fragment,null,o.a.createElement(m,null),o.a.createElement(d,null),o.a.createElement(f,null,t&&o.a.createElement(b,null),a&&o.a.createElement(T,null),!t&&!n.length&&o.a.createElement(g,{searchValue:l}),n.map((function(e){return o.a.createElement(v,{key:e.id,text:e.title,completed:e.completed,onMark:function(){return c(e.id)},onDelete:function(){return r(e.id)}})}))),o.a.createElement(h,null),u&&o.a.createElement(S,null,o.a.createElement(k,null)))}a(32);var x=function(){return o.a.createElement(s,null,o.a.createElement(j,null))};r.a.createRoot(document.getElementById("root")).render(o.a.createElement(x,null))}],[[12,1,2]]]);
//# sourceMappingURL=main.0cf1af7b.chunk.js.map